{"version":3,"sources":["scripts/main.js"],"names":["tableBody","document","body","querySelectorAll","tableHead","querySelector","sortFlow","sortAlgorythm","e","rows","index","children","target","textContent","parentElement","tagName","sort","prev","next","slice","split","join","forEach","el","append","addEventListener","activeKeeper","indicateAlgorythm","classList","remove","add","insertAdjacentHTML","saveButton","form","numberFormatting","n","formatted","String","length","push","substr","i","pushNotification","title","description","type","createElement","dataset","qa","className","elTitle","innerText","elDiscription","currentNotification","style","top","right","setTimeout","removing","addPerson","preventDefault","data","FormData","get"],"mappings":"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","file":"main.4dbfb302.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst tableBody = document.body.querySelectorAll('TBODY')[0];\nconst tableHead = document.querySelector('THEAD');\n\nlet sortFlow = 1;\n\nfunction sortAlgorythm(e) {\n  const rows = [...tableBody.children];\n\n  let index;\n\n  switch (e.target.textContent) {\n    case 'Name':\n      index = 0;\n      break;\n\n    case 'Position':\n      index = 1;\n      break;\n\n    case 'Office':\n      index = 2;\n      break;\n\n    case 'Age':\n      index = 3;\n      break;\n\n    case 'Salary':\n      index = 4;\n      break;\n  }\n\n  if (\n    e.target.parentElement.parentElement.tagName === 'THEAD'\n  ) {\n    if (e.target.textContent === 'Salary') {\n      rows.sort(\n        (prev, next) =>\n          (\n            +prev.children[index].textContent\n              .slice(1).split(',').join('')\n            > +next.children[index].textContent\n              .slice(1).split(',').join('')\n          )\n            ? sortFlow : -sortFlow\n      );\n    } else {\n      rows.sort(\n        (prev, next) =>\n          (\n            prev.children[index].textContent\n            > next.children[index].textContent\n          )\n            ? sortFlow : -sortFlow\n      );\n    }\n\n    rows.forEach(el => tableBody.append(el));\n  }\n\n  sortFlow *= -1;\n}\n\ntableHead.addEventListener('click', sortAlgorythm);\n\nlet activeKeeper = null;\n\nfunction indicateAlgorythm(e) {\n  if (e.target.tagName === 'TD') {\n    if (activeKeeper) {\n      activeKeeper.classList.remove('active');\n    }\n    activeKeeper = e.target.parentElement;\n    activeKeeper.classList.add('active');\n  } else {\n    if (activeKeeper) {\n      activeKeeper.classList.remove('active');\n    }\n  }\n}\n\ndocument.addEventListener('click', indicateAlgorythm);\n\ndocument.body.insertAdjacentHTML('beforeend', `\n  <form class='new-employee-form'>\n    <label>\n      Name:\n      <input data-qa=\"name\" name=\"name\" type=\"text\" required>\n    </label>\n    <label>\n      Position:\n      <input data-qa=\"position\" name=\"position\" type=\"text\" required>\n    </label>\n    <label>\n      Office:\n      <select data-qa=\"office\" name=\"office\" type=\"text\" required>\n      <option>Tokyo</option>\n      <option>Singapore</option>\n      <option>London</option>\n      <option>New York</option>\n      <option>Edinburgh</option>\n      <option>San Francisco</option>\n      </select>\n    </label>\n    <label>\n      Age:\n      <input data-qa=\"age\" name=\"age\" type=\"number\" required>\n    </label>\n    <label>\n      Salary:\n      <input data-qa=\"salary\" name=\"salary\" type=\"number\" required>\n    </label>\n    <button>Save to table</button>\n    </form>\n`);\n\nconst saveButton = document.querySelector('BUTTON');\nconst form = document.querySelector('FORM');\n\nconst numberFormatting = function(n) {\n  const formatted = [];\n\n  if (String(n).length % 3 > 0) {\n    formatted.push(String(n).substr(0, String(n).length % 3));\n  }\n\n  for (let i = String(n).length % 3; i < String(n).length; i += 3) {\n    formatted.push(String(n).substr([i], 3));\n  }\n\n  return formatted.join(',');\n};\n\nconst pushNotification = (title, description, type) => {\n  const push = document.createElement('div');\n\n  push.dataset.qa = 'notification';\n\n  push.className = `notification ${type}`;\n  document.body.append(push);\n\n  const elTitle = document.createElement('h2');\n\n  elTitle.innerText = title;\n  elTitle.className = `title`;\n  push.append(elTitle);\n\n  const elDiscription = document.createElement('p');\n\n  elDiscription.innerText = description;\n  push.append(elDiscription);\n\n  const currentNotification = document.querySelectorAll('.notification');\n\n  push.style.top = `${10 + (currentNotification.length - 1) * 110}px`;\n  push.style.right = `10px`;\n\n  function removing() {\n    push.remove();\n  }\n\n  setTimeout(removing, 2000);\n};\n\nfunction addPerson(e) {\n  e.preventDefault();\n\n  const data = new FormData(form);\n\n  if (\n    data.get('name').length >= 4\n    && data.get('position') !== ''\n    && data.get('office') !== ''\n    && +data.get('age') >= 18\n    && +data.get('age') <= 90\n    && data.get('salary') !== ''\n  ) {\n    tableBody.insertAdjacentHTML('beforeend', `\n      <tr>\n        <td>${data.get('name')}</td>\n        <td>${data.get('position')}</td>\n        <td>${data.get('office')}</td>\n        <td>${data.get('age')}</td>\n        <td>$${numberFormatting(data.get('salary'))}</td>\n      </tr>\n    `);\n\n    pushNotification(\n      'COOL!',\n      'A person has been added!\\n',\n      'success'\n    );\n  }\n\n  if (data.get('name').length < 4) {\n    pushNotification(\n      'Ops!',\n      'The person has to have a name\\n',\n      'error'\n    );\n  }\n\n  if (data.get('position') === '') {\n    pushNotification(\n      'Ops!',\n      'The person has to have a position\\n',\n      'error'\n    );\n  }\n\n  if (+data.get('age') < 18) {\n    pushNotification(\n      'Ops!',\n      'The person has to be older\\n',\n      'error'\n    );\n  }\n\n  if (+data.get('age') > 90) {\n    pushNotification(\n      'Ops!',\n      'The person has to be younger\\n',\n      'error'\n    );\n  }\n}\n\nsaveButton.addEventListener('click', addPerson);\n"]}